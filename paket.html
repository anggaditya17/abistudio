<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paket Harga - ABI STUDIO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { 
                        abi: { teal: '#4A6D6D', dark: '#1a1a1a' },
                        promo: '#F97316' 
                    },
                    fontFamily: { sans: ['"Plus Jakarta Sans"', 'sans-serif'] }
                }
            }
        }
    </script>
    
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyC9JW1Rc3VFnJRYofHiorqDN4MWHjBrVi0",
        authDomain: "abistudio-db.firebaseapp.com",
        projectId: "abistudio-db",
        storageBucket: "abistudio-db.firebasestorage.app",
        messagingSenderId: "249751405902",
        appId: "1:249751405902:web:6061648be8e6a51a69ca1f"
      };

      // Inisialisasi Firebase
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore(); // Siap menyimpan data!
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; font-size: 16px; }
        .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(5px); z-index: 9999; align-items: center; justify-content: center; padding: 20px; }
        .animate-up { animation: slideUp 0.4s ease-out forwards; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .marquee-container { overflow: hidden; white-space: nowrap; position: relative; }
        .marquee-content { display: inline-block; animation: marquee 35s linear infinite; padding-left: 100%; }
        @keyframes marquee { 0% { transform: translate(0, 0); } 100% { transform: translate(-100%, 0); } }
    </style>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen pt-10">

    <div class="fixed top-0 w-full z-[60] bg-promo text-white text-[10px] md:text-xs font-bold leading-9 md:leading-10 shadow-md">
        <div class="marquee-container">
            <div id="tickerContent" class="marquee-content uppercase tracking-wider"></div>
        </div>
    </div>

    <nav class="fixed w-full top-9 md:top-10 z-[50] bg-white/90 backdrop-blur-md shadow-sm border-b border-gray-100 transition-all duration-300">
        <div class="container mx-auto px-6 py-2 flex justify-between items-center">
            <a href="index.html" class="flex items-center">
                <img src="logo.png" alt="ABI STUDIO" class="h-14 w-auto object-contain">
            </a>
            <div class="hidden md:flex space-x-8 text-sm font-bold uppercase tracking-[0.15em] text-gray-700 items-center">
                <a href="index.html" class="hover:text-abi-teal transition pb-1">Home</a>
                <a href="about.html" class="hover:text-abi-teal transition pb-1">About</a>
                <a href="services.html" class="hover:text-abi-teal transition pb-1">Layanan</a>
                <a href="paket.html" class="hover:text-abi-teal transition pb-1 text-abi-teal">Paket</a>
                <a href="portfolio.html" class="hover:text-abi-teal transition pb-1">Portfolio</a>
                <a href="blog.html" class="hover:text-abi-teal transition pb-1">Blog</a>
                <a href="https://wa.me/6285157577465" target="_blank" class="bg-abi-teal text-white px-6 py-2 rounded-full hover:bg-abi-dark transition duration-300 shadow-lg text-xs md:text-sm">Contact</a>
            </div>
            <button class="md:hidden text-abi-teal text-2xl" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        <div id="mobileMenu" class="hidden md:hidden absolute w-full bg-white text-black py-4 px-6 shadow-2xl border-t">
            <div class="flex flex-col space-y-4 text-sm font-bold uppercase tracking-widest text-center">
                <a href="index.html" class="hover:text-abi-teal py-2">Home</a>
                <a href="about.html" class="hover:text-abi-teal py-2">About Us</a>
                <a href="services.html" class="hover:text-abi-teal py-2">Layanan</a>
                <a href="paket.html" class="hover:text-abi-teal py-2">Paket</a>
                <a href="portfolio.html" class="hover:text-abi-teal py-2">Portfolio</a>
                <a href="blog.html" class="hover:text-abi-teal py-2">Blog</a>
                <a href="https://wa.me/6285157577465" target="_blank" class="bg-abi-teal text-white py-3 rounded-full mt-2">Contact Us</a>
            </div>
        </div>
    </nav>

    <header class="pt-48 pb-24 bg-abi-dark text-white text-center px-6 relative overflow-hidden">
        <div class="absolute inset-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=2000')] bg-cover bg-center"></div>
        <div class="relative z-10">
            <p class="text-sm font-bold uppercase tracking-[0.4em] text-abi-teal mb-4">Pricing Plans</p>
            <h1 class="text-5xl md:text-7xl font-light">Investasi Perencanaan</h1>
            <p class="mt-6 text-gray-300 font-light text-lg max-w-2xl mx-auto">Pilih paket yang sesuai dengan kebutuhan proyek Anda. Transparan, terukur, dan profesional.</p>
        </div>
    </header>

    <section class="py-24 px-6 flex-grow">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-4 gap-8">
            <div onclick="openOrder('Paket 1 (Basic)', 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750')" class="bg-white p-10 hover:shadow-xl transition cursor-pointer border-t-4 border-transparent hover:border-abi-teal rounded-2xl flex flex-col h-full">
                <span class="text-sm font-bold text-gray-300">01</span>
                <h4 class="text-2xl font-bold mt-4 mb-2">Basic Plan</h4>
                <p class="text-4xl font-light text-abi-teal mb-8">7rb<span class="text-sm text-gray-400">/mÂ²</span></p>
                <ul class="text-sm text-gray-600 space-y-4 mb-10 flex-grow">
                    <li class="flex items-start"><i class="fas fa-check text-abi-teal mr-3 mt-1"></i> Denah 2D & 3D</li>
                    <li class="flex items-start"><i class="fas fa-check text-abi-teal mr-3 mt-1"></i> 3D Exterior Render</li>
                    <li class="flex items-start"><i class="fas fa-check text-abi-teal mr-3 mt-1"></i> Revisi Minor 3x</li>
                </ul>
                <button class="w-full py-4 border border-gray-200 text-xs font-bold uppercase tracking-widest hover:bg-abi-teal hover:text-white transition rounded-full mb-8">Pilih Paket</button>
                <div class="pt-6 border-t border-gray-100 mt-auto">
                    <div class="flex text-yellow-400 text-xs mb-2"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                    <p class="text-sm italic text-gray-500 mb-2">"Solusi hemat buat renovasi dapur."</p>
                    <p class="text-sm font-bold text-gray-800">â€” Bpk. R.D</p>
                </div>
            </div>

            <div onclick="openOrder('Paket 2 (Standard)', 'https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?q=80&w=800')" class="bg-abi-teal text-white p-10 shadow-xl transition cursor-pointer transform md:-translate-y-4 relative rounded-2xl flex flex-col h-full">
                <div class="absolute top-0 right-0 p-4"><span class="bg-white text-abi-teal text-[10px] px-3 py-1 font-bold rounded">BEST SELLER</span></div>
                <span class="text-sm font-bold text-white/50">02</span>
                <h4 class="text-2xl font-bold mt-4 mb-2">Standard</h4>
                <p class="text-4xl font-light mb-8">22rb<span class="text-sm text-white/50">/mÂ²</span></p>
                <ul class="text-sm text-white/90 space-y-4 mb-10 flex-grow">
                    <li class="flex items-start"><i class="fas fa-check text-white mr-3 mt-1"></i> Denah & Tampak Lengkap</li>
                    <li class="flex items-start"><i class="fas fa-check text-white mr-3 mt-1"></i> Potongan & Pola Lantai</li>
                    <li class="flex items-start"><i class="fas fa-check text-white mr-3 mt-1"></i> 3D Modeling Full</li>
                </ul>
                <button class="w-full py-4 bg-white text-abi-teal text-xs font-bold uppercase tracking-widest hover:bg-abi-dark hover:text-white transition rounded-full mb-8">Pilih Paket</button>
                <div class="pt-6 border-t border-white/20 mt-auto">
                    <div class="flex text-yellow-300 text-xs mb-2"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                    <p class="text-sm italic text-white/90 mb-2">"Render 3D-nya real banget!"</p>
                    <p class="text-sm font-bold text-white">â€” Ibu M.S</p>
                </div>
            </div>

            <div onclick="openOrder('Paket 3 (Advance)', 'https://images.unsplash.com/photo-1600607687644-c7171b42498f')" class="bg-white p-10 hover:shadow-xl transition cursor-pointer border-t-4 border-transparent hover:border-abi-teal rounded-2xl flex flex-col h-full">
                <span class="text-sm font-bold text-gray-300">03</span>
                <h4 class="text-2xl font-bold mt-4 mb-2">Advance</h4>
                <p class="text-4xl font-light text-abi-teal mb-8">33rb<span class="text-sm text-gray-400">/mÂ²</span></p>
                <ul class="text-sm text-gray-600 space-y-4 mb-10 flex-grow">
                    <li class="flex items-start"><i class="fas fa-check text-abi-teal mr-3 mt-1"></i> Struktur & MEP Lengkap</li>
                    <li class="flex items-start"><i class="fas fa-check text-abi-teal mr-3 mt-1"></i> Detail Kusen & Sanitasi</li>
                    <li class="flex items-start"><i class="fas fa-check text-abi-teal mr-3 mt-1"></i> Paket Standard Include</li>
                </ul>
                <button class="w-full py-4 border border-gray-200 text-xs font-bold uppercase tracking-widest hover:bg-abi-teal hover:text-white transition rounded-full mb-8">Pilih Paket</button>
                <div class="pt-6 border-t border-gray-100 mt-auto">
                    <div class="flex text-yellow-400 text-xs mb-2"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                    <p class="text-sm italic text-gray-500 mb-2">"Hitungan struktur detail."</p>
                    <p class="text-sm font-bold text-gray-800">â€” Bpk. H.T</p>
                </div>
            </div>

            <div onclick="openOrder('Paket RAB', 'https://images.unsplash.com/photo-1554224155-8d04cb21cd6c')" class="bg-white p-10 hover:shadow-xl transition cursor-pointer border-t-4 border-transparent hover:border-gray-800 rounded-2xl flex flex-col h-full">
                <span class="text-sm font-bold text-gray-300">04</span>
                <h4 class="text-2xl font-bold mt-4 mb-2">RAB Only</h4>
                <p class="text-4xl font-light text-gray-800 mb-8">10rb<span class="text-sm text-gray-400">/mÂ²</span></p>
                <ul class="text-sm text-gray-600 space-y-4 mb-10 flex-grow">
                    <li class="flex items-start"><i class="fas fa-check text-abi-teal mr-3 mt-1"></i> Analisis Harga Satuan</li>
                    <li class="flex items-start"><i class="fas fa-check text-abi-teal mr-3 mt-1"></i> Kebutuhan Material</li>
                    <li class="flex items-start"><i class="fas fa-check text-abi-teal mr-3 mt-1"></i> Format SPK</li>
                </ul>
                <button class="w-full py-4 border border-gray-200 text-xs font-bold uppercase tracking-widest hover:bg-abi-dark hover:text-white transition rounded-full mb-8">Pilih Paket</button>
                <div class="pt-6 border-t border-gray-100 mt-auto">
                    <div class="flex text-yellow-400 text-xs mb-2"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                    <p class="text-sm italic text-gray-500 mb-2">"Sangat terbantu buat pinjaman."</p>
                    <p class="text-sm font-bold text-gray-800">â€” Ibu L.A</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-abi-dark text-white py-12 text-center text-sm mt-auto">
        <p class="opacity-50 uppercase tracking-[0.2em]">Â© 2025 ABI STUDIO. All Rights Reserved.</p>
    </footer>

    <div id="orderModal" class="modal-overlay">
        <div class="bg-white w-full max-w-4xl rounded-2xl overflow-hidden shadow-2xl flex flex-col md:flex-row relative animate-up">
            <button onclick="closeOrder()" class="absolute top-4 right-4 z-20 w-10 h-10 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200 text-gray-500 text-xl transition">Ã—</button>
            <div class="md:w-2/5 h-48 md:h-auto relative">
                <img id="modalImg" src="" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-abi-teal/20"></div>
            </div>
            <div class="md:w-3/5 p-8 md:p-14 overflow-y-auto max-h-[90vh]">
                <h4 id="modalTitle" class="text-3xl font-bold mb-2">Nama Paket</h4>
                <p class="text-xs uppercase tracking-widest text-gray-400 mb-6">Lengkapi Detail Proyek</p>
                <div class="space-y-4">
                    <div>
                        <label class="text-xs font-bold text-gray-500 uppercase">Nama Anda</label>
                        <input type="text" id="clientName" placeholder="Contoh: Budi Santoso" class="w-full border-b border-gray-200 py-3 text-base focus:outline-none focus:border-abi-teal transition bg-transparent">
                    </div>
                    <div>
                        <label class="text-xs font-bold text-gray-500 uppercase">Luas Bangunan / Area</label>
                        <input type="number" id="area" placeholder="Contoh: 150 (dalam mÂ²)" class="w-full border-b border-gray-200 py-3 text-base focus:outline-none focus:border-abi-teal transition bg-transparent">
                    </div>
                    <div>
                        <label class="text-xs font-bold text-gray-500 uppercase">Jenis Bangunan</label>
                        <select id="type" class="w-full border-b border-gray-200 py-3 text-base focus:outline-none focus:border-abi-teal transition bg-transparent text-gray-600">
                            <option value="Rumah Tinggal">Rumah Tinggal</option>
                            <option value="Kantor/Ruko">Kantor/Ruko</option>
                            <option value="Gudang">Gudang</option>
                            <option value="Renovasi">Renovasi</option>
                            <option value="Kanopi/Eksterior">Kanopi/Eksterior</option>
                            <option value="Kolam Renang">Kolam Renang</option>
                            <option value="Interior/Kitchen Set">Interior/Kitchen Set</option>
                        </select>
                    </div>
                    <div>
                        <label class="text-xs font-bold text-gray-500 uppercase">Lokasi Proyek</label>
                        <input type="text" id="location" placeholder="Contoh: Cipondoh, Tangerang" class="w-full border-b border-gray-200 py-3 text-base focus:outline-none focus:border-abi-teal transition bg-transparent">
                    </div>
                    <div>
                        <label class="text-xs font-bold text-gray-500 uppercase">Rencana Bangun</label>
                        <input type="text" id="date" placeholder="Contoh: Bulan Depan" class="w-full border-b border-gray-200 py-3 text-base focus:outline-none focus:border-abi-teal transition bg-transparent">
                    </div>
                    <button onclick="sendWhatsApp()" class="w-full bg-abi-teal text-white py-5 rounded-full font-bold text-sm uppercase tracking-[0.2em] hover:bg-abi-dark transition duration-300 mt-6">Kirim via WhatsApp</button>
                </div>
            </div>
        </div>
    </div>

    <script>
    // --- 1. SCRIPT DETEKSI LEADS DARI SERVICES.HTML ---
    window.onload = function() {
        updateTickerDisplay(); // Jalankan running text
        const urlParams = new URLSearchParams(window.location.search);
        const serviceType = urlParams.get('service');
        if(serviceType) {
            let customTitle = "Konsultasi Layanan", customImg = "https://images.unsplash.com/photo-1600585154340-be6161a56a0c", autoSelectType = "Rumah Tinggal";
            if(serviceType === 'arsitek') { customTitle = "Konsultasi Arsitek"; customImg = "https://images.unsplash.com/photo-1512917774080-9991f1c4c750"; autoSelectType = "Rumah Tinggal"; } 
            else if(serviceType === 'interior') { customTitle = "Konsultasi Interior"; customImg = "https://images.unsplash.com/photo-1600210492486-724fe5c67fb0"; autoSelectType = "Interior/Kitchen Set"; } 
            else if(serviceType === 'kanopi') { customTitle = "Jasa Kanopi & Eksterior"; customImg = "https://images.unsplash.com/photo-1497366216548-37526070297c"; autoSelectType = "Kanopi/Eksterior"; } 
            else if(serviceType === 'pool') { customTitle = "Pembuatan Kolam Renang"; customImg = "https://images.unsplash.com/photo-1572331165267-854da2b00dc1"; autoSelectType = "Kolam Renang"; } 
            else if(serviceType === 'renovasi') { customTitle = "Jasa Renovasi Sipil"; customImg = "https://images.unsplash.com/photo-1503387762-592deb58ef4e"; autoSelectType = "Renovasi"; }
            openOrder(customTitle, customImg);
            setTimeout(() => { document.getElementById('type').value = autoSelectType; }, 100);
        }
    }

    // --- 2. SCRIPT FAKE DATA & RUNNING TEXT ---
    const fakeBuyers = ["MUHAMMAD FAIZAL", "SITI AMINAH", "CV. BERKAH JAYA", "RUDI HARTONO", "ANDI PRATAMA", "DEWI SARTIKA", "PT. BANGUN INDAH"];
    function maskName(name) { if (name.length <= 4) return name; return `${name.slice(0, 3)}********${name.slice(-3)}`; }
    function updateTickerDisplay() {
        const container = document.getElementById('tickerContent');
        let htmlContent = "";
        fakeBuyers.forEach(buyer => {
            const masked = maskName(buyer);
            const randomAction = Math.random() > 0.5 ? "memesan PAKET STANDARD" : "konsultasi RENOVASI";
            htmlContent += `<span class="mx-8"><i class="fas fa-check-circle text-white/70 mr-2"></i> ${masked} ${randomAction}</span>`;
        });
        container.innerHTML = htmlContent + htmlContent;
    }

    // --- 3. LOGIKA UTAMA (FIREBASE + WA) ---
    function toggleMobileMenu() { document.getElementById('mobileMenu').classList.toggle('hidden'); }
    
    let selectedPkg = "";
    function openOrder(pkg, img) { 
        selectedPkg = pkg; 
        document.getElementById('modalTitle').innerText = pkg; 
        document.getElementById('modalImg').src = img || 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c'; 
        document.getElementById('orderModal').style.display = 'flex'; 
        document.body.style.overflow = 'hidden'; 
    }
    
    function closeOrder() { 
        document.getElementById('orderModal').style.display = 'none'; 
        document.body.style.overflow = 'auto'; 
        window.history.pushState({}, document.title, window.location.pathname);
    }
    
    function sendWhatsApp() {
        const name = document.getElementById('clientName').value.toUpperCase(); 
        const area = document.getElementById('area').value; 
        const type = document.getElementById('type').value; 
        const location = document.getElementById('location').value; 
        const date = document.getElementById('date').value;
        
        if(!name || !area || !location || !date) { alert("Mohon lengkapi data proyek (termasuk Nama Anda)."); return; }
        
        // 1. UPDATE UI (Loading)
        const btn = document.querySelector('button[onclick="sendWhatsApp()"]');
        const originalText = btn.innerText;
        btn.innerText = "Menyimpan Data...";
        btn.disabled = true;

        // 2. SIMPAN KE FIREBASE
        db.collection("leads").add({
            nama_klien: name,
            paket_dipilih: selectedPkg,
            luas_bangunan: area,
            jenis_bangunan: type,
            lokasi: location,
            rencana_bangun: date,
            waktu_input: new Date()
        })
        .then((docRef) => {
            console.log("Data tersimpan di Firebase ID: ", docRef.id);
            
            // 3. UPDATE RUNNING TEXT & BUKA WA
            fakeBuyers.unshift(name); if(fakeBuyers.length > 15) fakeBuyers.pop(); updateTickerDisplay();

            const msg = `Halo ABI Studio,%0A` + 
                        `Saya tertarik dengan layanan:%0A%0A` + 
                        `ðŸ“ *${selectedPkg}*%0A` + 
                        `--------------------------------%0A` +
                        `ðŸ‘¤ Nama Klien : ${name}%0A` + 
                        `ðŸ“ Luas/Area : ${area} mÂ²%0A` + 
                        `ðŸ¡ Kategori : ${type}%0A` + 
                        `ðŸ“ Lokasi : ${location}%0A` + 
                        `ðŸ“… Rencana : ${date}%0A` + 
                        `--------------------------------%0A` +
                        `Mohon info estimasi biaya. Terima kasih.`;
            
            window.open(`https://wa.me/6285157577465?text=${msg}`, '_blank'); 
            
            btn.innerText = originalText;
            btn.disabled = false;
            closeOrder();
        })
        .catch((error) => {
            console.error("Gagal simpan database: ", error);
            // Fallback: Tetap buka WA walaupun database error (koneksi buruk dll)
            const msg = `Halo ABI Studio (Manual Mode),%0A` + `Saya tertarik dengan layanan: ${selectedPkg} (Nama: ${name})`;
            window.open(`https://wa.me/6285157577465?text=${msg}`, '_blank');
            btn.innerText = originalText;
            btn.disabled = false;
            closeOrder();
        });
    }
    
    window.onclick = function(e) { if(e.target == document.getElementById('orderModal')) closeOrder(); }
    </script>

</body>
</html>
