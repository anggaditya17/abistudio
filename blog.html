<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog & Artikel - ABI STUDIO</title>
    <link rel="icon" type="image/png" href="logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { abi: { teal: '#4A6D6D', dark: '#1a1a1a', light: '#f8f9fa' } },
                    fontFamily: { sans: ['"Plus Jakarta Sans"', 'sans-serif'] }
                }
            }
        }
        
        // KONFIGURASI FIREBASE
        const firebaseConfig = {
            apiKey: "AIzaSyC9JW1Rc3VFnJRYofHiorqDN4MWHjBrVi0",
            authDomain: "abistudio-db.firebaseapp.com",
            projectId: "abistudio-db",
            storageBucket: "abistudio-db.firebasestorage.app",
            messagingSenderId: "249751405902",
            appId: "1:249751405902:web:6061648be8e6a51a69ca1f"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap'); 
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(5px); z-index: 9999; align-items: center; justify-content: center; padding: 20px; }
        .animate-zoom { animation: zoomIn 0.3s ease-out forwards; }
        @keyframes zoomIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        
        /* Typography Artikel */
        .article-prose h3 { font-size: 1.25rem; font-weight: 700; margin-top: 1.5rem; margin-bottom: 0.5rem; color: #1a1a1a; }
        .article-prose p { margin-bottom: 1rem; line-height: 1.7; color: #4b5563; }
        .article-prose ul { list-style-type: disc; padding-left: 1.5rem; margin-bottom: 1rem; color: #4b5563; }
        
        /* Loading Spinner */
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid #4A6D6D; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">

    <nav class="fixed w-full top-0 z-[50] bg-white/90 backdrop-blur-md shadow-sm border-b border-gray-100 transition-all duration-300">
        <div class="container mx-auto px-6 py-2 flex justify-between items-center">
            <a href="index.html" class="flex items-center"><img src="logo.png" alt="ABI STUDIO" class="h-14 w-auto object-contain"></a>
            <div class="hidden md:flex space-x-8 text-sm font-bold uppercase tracking-[0.15em] text-gray-700 items-center">
                <a href="index.html" class="hover:text-abi-teal transition pb-1">Home</a>
                <a href="about.html" class="hover:text-abi-teal transition pb-1">About</a>
                <a href="services.html" class="hover:text-abi-teal transition pb-1">Layanan</a>
                <a href="paket.html" class="hover:text-abi-teal transition pb-1">Paket</a>
                <a href="portfolio.html" class="hover:text-abi-teal transition pb-1">Portfolio</a>
                <a href="blog.html" class="hover:text-abi-teal transition pb-1 text-abi-teal">Blog</a>
                <a href="https://wa.me/6285157577465" target="_blank" class="bg-abi-teal text-white px-6 py-2 rounded-full hover:bg-abi-dark transition duration-300 shadow-lg text-xs md:text-sm">Contact</a>
            </div>
            <button class="md:hidden text-abi-teal text-2xl" onclick="toggleMobileMenu()"><i class="fas fa-bars"></i></button>
        </div>
        <div id="mobileMenu" class="hidden md:hidden absolute w-full bg-white text-black py-4 px-6 shadow-2xl border-t">
            <div class="flex flex-col space-y-4 text-sm font-bold uppercase tracking-widest text-center">
                <a href="index.html" class="hover:text-abi-teal py-2">Home</a>
                <a href="about.html" class="hover:text-abi-teal py-2">About Us</a>
                <a href="services.html" class="hover:text-abi-teal py-2">Layanan</a>
                <a href="paket.html" class="hover:text-abi-teal py-2">Paket</a>
                <a href="portfolio.html" class="hover:text-abi-teal py-2">Portfolio</a>
                <a href="blog.html" class="hover:text-abi-teal py-2 text-abi-teal">Blog</a>
            </div>
        </div>
    </nav>

    <header class="pt-32 pb-16 bg-abi-dark text-white text-center px-6 relative overflow-hidden">
        <div class="absolute inset-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1503387762-592deb58ef4e?q=80&w=2000')] bg-cover bg-center"></div>
        <div class="relative z-10">
            <p class="text-xs font-bold uppercase tracking-[0.4em] text-abi-teal mb-4">Journal & Tips</p>
            <h1 class="text-4xl md:text-5xl font-light">Artikel Konstruksi</h1>
        </div>
    </header>

    <section class="py-16 px-6">
        <div class="container mx-auto grid grid-cols-1 lg:grid-cols-3 gap-12">
            
            <div class="lg:col-span-2 space-y-8">
                
                <article class="bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition border border-gray-100 flex flex-col md:flex-row group">
    <div class="md:w-2/5 h-64 md:h-auto relative overflow-hidden">
        <img src="https://images.unsplash.com/photo-1554995207-c18c203602cb?q=80&w=800" class="w-full h-full object-cover transform group-hover:scale-110 transition duration-700">
    </div>
    <div class="md:w-3/5 p-8 flex flex-col justify-center">
        <div class="text-xs text-gray-400 mb-2 font-bold uppercase tracking-wider text-abi-teal">Interior • 6 Jan 2026</div>
        <h2 onclick="fetchArticle('article4')" class="text-2xl font-bold mb-3 text-abi-dark hover:text-abi-teal cursor-pointer transition">Solusi Lahan Sempit: Trik Mezzanine Agar Rumah 36m² Terasa Luas</h2>
        <p class="text-gray-500 text-sm leading-relaxed mb-6">Membangun ke atas tanpa menambah lantai penuh adalah kunci efisiensi biaya. Pelajari cara memanfaatkan high ceiling untuk ruang kerja atau kamar tidur tambahan.</p>
        <button onclick="fetchArticle('article4')" class="text-sm font-bold border-b border-gray-300 pb-1 self-start hover:border-abi-teal hover:text-abi-teal transition">Baca Selengkapnya</button>
    </div>
</article>
                
                 <article class="bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition border border-gray-100 flex flex-col md:flex-row group">
                    <div class="md:w-2/5 h-64 md:h-auto relative overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1581094794329-cd13693dd462?q=80&w=800" class="w-full h-full object-cover transform group-hover:scale-110 transition duration-700">
                    </div>
                    <div class="md:w-3/5 p-8 flex flex-col justify-center">
                        <div class="text-xs text-gray-400 mb-2 font-bold uppercase tracking-wider text-abi-teal">Tips Sipil • 5 Jan 2026</div>
                        <h2 onclick="fetchArticle('article1')" class="text-2xl font-bold mb-3 text-abi-dark hover:text-abi-teal cursor-pointer transition">Ciri-ciri Pondasi Rumah yang Kuat & Tahan Gempa</h2>
                        <p class="text-gray-500 text-sm leading-relaxed mb-6">Simak 5 hal wajib yang harus dicek saat pembuatan pondasi cakar ayam agar rumah aman.</p>
                        <button onclick="fetchArticle('article1')" class="text-sm font-bold border-b border-gray-300 pb-1 self-start hover:border-abi-teal hover:text-abi-teal transition">Baca Selengkapnya</button>
                    </div>
                </article>

                <article class="bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition border border-gray-100 flex flex-col md:flex-row group">
                    <div class="md:w-2/5 h-64 md:h-auto relative overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1503387762-592deb58ef4e?q=80&w=800" class="w-full h-full object-cover transform group-hover:scale-110 transition duration-700">
                    </div>
                    <div class="md:w-3/5 p-8 flex flex-col justify-center">
                        <div class="text-xs text-gray-400 mb-2 font-bold uppercase tracking-wider text-abi-teal">Renovasi • 2 Jan 2026</div>
                        <h2 onclick="fetchArticle('article2')" class="text-2xl font-bold mb-3 text-abi-dark hover:text-abi-teal cursor-pointer transition">Hitungan Biaya Ngedak Lantai 2 (Beton vs Bondek)</h2>
                        <p class="text-gray-500 text-sm leading-relaxed mb-6">Bingung pilih metode cor dak? Kami bedah perbandingan biaya dan kekuatan antara metode konvensional dan bondek.</p>
                        <button onclick="fetchArticle('article2')" class="text-sm font-bold border-b border-gray-300 pb-1 self-start hover:border-abi-teal hover:text-abi-teal transition">Baca Selengkapnya</button>
                    </div>
                </article>

                <article class="bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition border border-gray-100 flex flex-col md:flex-row group">
                    <div class="md:w-2/5 h-64 md:h-auto relative overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?q=80&w=800" class="w-full h-full object-cover transform group-hover:scale-110 transition duration-700">
                    </div>
                    <div class="md:w-3/5 p-8 flex flex-col justify-center">
                        <div class="text-xs text-gray-400 mb-2 font-bold uppercase tracking-wider text-abi-teal">Inspirasi • 28 Des 2025</div>
                        <h2 onclick="fetchArticle('article3')" class="text-2xl font-bold mb-3 text-abi-dark hover:text-abi-teal cursor-pointer transition">Trend Interior Industrial: Hemat tapi Mewah</h2>
                        <p class="text-gray-500 text-sm leading-relaxed mb-6">Penerapan dinding unfinished dan plafon ekspos yang justru menaikkan nilai estetika rumah Anda.</p>
                        <button onclick="fetchArticle('article3')" class="text-sm font-bold border-b border-gray-300 pb-1 self-start hover:border-abi-teal hover:text-abi-teal transition">Baca Selengkapnya</button>
                    </div>
                </article>

            </div>

            <div class="space-y-8">
                <div class="bg-abi-dark p-8 rounded-2xl shadow-lg text-center relative overflow-hidden group">
                    <div class="absolute inset-0 opacity-10 bg-[url('https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=800')] bg-cover bg-center transition transform group-hover:scale-110 duration-700"></div>
                    <div class="relative z-10">
                        <i class="fas fa-hard-hat text-4xl text-abi-teal mb-4"></i>
                        <h4 class="text-xl font-bold text-white mb-2">Mau Bangun Rumah?</h4>
                        <p class="text-gray-400 text-sm mb-6">Jangan sampai budget bengkak karena salah perencanaan.</p>
                        <a href="paket.html" class="inline-block w-full py-3 bg-abi-teal text-white font-bold uppercase tracking-widest text-xs rounded-lg hover:bg-white hover:text-abi-dark transition">Cek Harga Paket</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-abi-dark text-white py-12 text-center text-sm">
        <p class="opacity-50">© 2025 ABI STUDIO</p>
    </footer>

    <div id="articleModal" class="modal-overlay">
        <div class="bg-white w-full max-w-4xl h-[90vh] md:h-auto md:max-h-[90vh] rounded-2xl overflow-hidden shadow-2xl flex flex-col relative animate-zoom mx-4">
            
            <button onclick="closeArticle()" class="absolute top-4 right-4 z-20 w-10 h-10 flex items-center justify-center rounded-full bg-white/80 hover:bg-gray-200 text-gray-800 text-2xl transition shadow-md">×</button>
            
            <div id="loadingView" class="hidden flex-col items-center justify-center h-96 w-full absolute inset-0 bg-white z-10">
                <div class="loader"></div>
                <p class="text-gray-500 text-sm animate-pulse">Mengambil data artikel...</p>
            </div>

            <div class="h-48 md:h-64 relative flex-shrink-0 bg-gray-200">
                <img id="modalBlogImg" src="" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                <div class="absolute bottom-6 left-6 md:left-10 right-6 text-white">
                    <span id="modalBlogDate" class="bg-abi-teal px-3 py-1 rounded text-[10px] font-bold uppercase tracking-wider mb-2 inline-block">...</span>
                    <h2 id="modalBlogTitle" class="text-2xl md:text-3xl font-bold leading-tight">...</h2>
                </div>
            </div>

            <div class="p-8 md:p-12 overflow-y-auto bg-white flex-grow">
                <div id="modalBlogContent" class="article-prose text-gray-600">
                    </div>
                
                <div class="mt-12 pt-8 border-t border-gray-100 text-center">
                    <p class="font-bold text-abi-dark mb-4">Tertarik menerapkan konsep ini?</p>
                    <a href="paket.html" class="inline-block bg-abi-teal text-white px-8 py-3 rounded-full text-xs font-bold uppercase tracking-widest hover:bg-abi-dark transition">Hubungi Kami</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleMobileMenu() {
            document.getElementById('mobileMenu').classList.toggle('hidden');
        }

        // --- FUNGSI AMBIL DATA DARI FIREBASE ---
        function fetchArticle(docId) {
            // 1. Tampilkan Modal & Loading
            const modal = document.getElementById('articleModal');
            const loader = document.getElementById('loadingView');
            modal.style.display = 'flex';
            loader.style.display = 'flex'; // Munculkan loading
            document.body.style.overflow = 'hidden';

            // 2. Request ke Database
            db.collection("articles").doc(docId).get().then((doc) => {
                if (doc.exists) {
                    const data = doc.data();
                    
                    // 3. Masukkan Data ke HTML
                    document.getElementById('modalBlogTitle').innerText = data.judul;
                    document.getElementById('modalBlogDate').innerText = data.tanggal;
                    document.getElementById('modalBlogImg').src = data.gambar;
                    document.getElementById('modalBlogContent').innerHTML = data.konten; // Render HTML
                } else {
                    document.getElementById('modalBlogContent').innerHTML = "<p class='text-center text-red-500'>Maaf, artikel tidak ditemukan.</p>";
                }
                
                // 4. Matikan Loading
                loader.style.display = 'none';

            }).catch((error) => {
                console.log("Error getting document:", error);
                document.getElementById('modalBlogContent').innerHTML = "<p>Terjadi kesalahan koneksi.</p>";
                loader.style.display = 'none';
            });
        }

        function closeArticle() {
            document.getElementById('articleModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        window.onclick = function(e) {
            if (e.target == document.getElementById('articleModal')) {
                closeArticle();
            }
        }
    </script>

</body>
</html>
